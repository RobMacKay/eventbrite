{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * Eventbrite plugin for Craft CMS 3.x
 *
 * Eventbrite Settings.twig
 *
 * @author    Mark @ A Digital
 * @copyright Copyright (c) 2019 Mark @ A Digital
 * @link      https://adigital.agency/
 * @package   Eventbrite
 * @since     1.0.0
 */
#}

{% extends parentLayout ?? '_layouts/cp' %}

{% set title = 'Eventbrite' %}

{% set content %}

{% requirePermission 'eventbrite:settings' %}
{% set fullPageForm = true %}
{% import "_includes/forms" as forms %}

<input type="hidden" name="action" value="eventbrite/default/save-plugin-settings">
<input type="hidden" name="pluginHandle" value="eventbrite">
  
  {{ forms.textField({
    label: 'Auth Token',
    instructions: 'Enter your auth token here.',
    id: 'authToken',
    name: 'settings[authToken]',
    value: settings['authToken'],
    errors: settings.getErrors('authToken'),
    required: true})
  }}
  
  {{ forms.textField({
    label: 'Organisation ID',
    instructions: 'Enter your organisation ID here.',
    id: 'organisationId',
    name: 'settings[organisationId]',
    value: settings['organisationId'],
    errors: settings.getErrors('organisationId'),
    required: true})
  }}
  
  {{ forms.editableTableField({
    label: 'Other Event IDs',
    instructions: 'Enter the Eventbrite IDs of any events not organised by Burnetts that should be shown on the website in this field.',
    id: 'otherEventIds',
    name: 'settings[otherEventIds]',
    cols: [
      {
        'heading': 'Event ID',
        'info': 'Enter the Event ID in this column.',
        'type': 'singleline'
      }
    ],
    rows: settings['otherEventIds']})
  }}
  
{% endset %}